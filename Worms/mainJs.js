const{ Engine, World, Bodies, Mouse, MouseConstraint, Constraint, Body}= Matter;
let map1;
let wormove=[];
let map=[];
let bodyGround;
let cas;

function setup(){
    bg= loadImage('https://images.pexels.com/photos/912110/pexels-photo-912110.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500')


    const canvas = createCanvas(1500, 720);
    engine = Engine.create();
    world = engine.world;

    wormove[0]= new Worm(1200,300,1);
    wormove[1]= new Worm(350,300,1);
    wormove[2]= new Worm(800,600,1);
    wormove[2].playing=true;


    map[0]= new Map("363,277,388,233,437,209,490,184,540,180,604,184,632,189,662,220,676,244,695,259,729,264,761,264,786,264,808,281,813,316,779,326,691,320,630,318,547,315,490,312,404,310,368,299",780,400)
    map[1]= new Map("478,587,476,627,476,651,531,660,577,655,624,649,692,639,716,630,732,562,722,519,689,448,680,431,671,370,677,314,705,278,750,262,739,230,702,200,562,203,480,206,401,219,397,257,425,283,461,297,487,339,492,436",1450,700);
    map[2]= new Map("556,356,511,344,489,309,507,258,544,223,627,219,676,212,713,210,753,209,776,210,807,216,830,238,843,288,841,323,804,363,750,381,632,364",850,700);
    map[3]= new Map("292,404,223,372,214,308,308,253,412,242,468,254,548,283,591,280,649,280,692,273,736,269,784,248,813,248,854,270,862,318,817,379,715,387,626,396,",300,700)
    map[4]= new Map("525,412,513,387,523,378,544,374,562,374,579,371,593,366,633,345,712,328,763,349,761,393,616,428,",1100,550);
    map[5]= new Map("505,432,548,416,602,416,669,404,712,404,778,397,869,386,912,387,961,400,949,454,883,457,816,429,741,433,671,439,572,459,496,465,505,438,501,428,",1300,360)
    map[6]= new Map("557,419,588,400,596,375,591,356,528,346,440,378,365,358,304,354,259,359,217,357,180,321,133,300,107,318,103,393,132,435,256,446,323,438,555,420",300,300)
    map[7]= new Map("46,166,75,199,120,216,165,217,205,208,228,178,182,152,102,146,40,140,",100,500)
}
function draw(){
    Matter.Engine.update(engine);

    background(bg);
    //wormove.forEach(worm=> worm.weapon.show())
    map.forEach(mapPiece=> mapPiece.show())
    wormove.forEach(worm => worm.show())





}
